# ElevenLabs TTS Configuration
ELEVENLABS_API_KEY=






























































































































































































































































































































































































































































































































































































































**Good luck! üöÄ****Uptime:** 99.9% (Digital Ocean SLA)**Monthly cost:** $6  **Deployment time:** 30-45 minutes  ---**Need help?** Contact: Juan Diego Gutierrez3. Supervisor status: `supervisorctl status`2. Nginx logs: `/var/log/nginx/error.log`1. Backend logs: `/var/log/music-bingo/error.log`**Issues?** Check:## Support---- Consider adding basic auth for admin features- Monitor logs for suspicious activity- Update Ubuntu regularly: `apt update && apt upgrade`- Keep ElevenLabs API key secret- Never commit `.env` file to git‚ö†Ô∏è **Important:**## Security Notes---6. Consider auto-play mode5. Add winner verification feature4. Add custom venue branding3. Get client feedback2. ‚úÖ Test with client1. ‚úÖ Deploy to Digital Ocean## Next Steps---| **Total** | **~$6/month** || ElevenLabs API | Client's account || iTunes API | FREE || SSL Certificate | FREE (Let's Encrypt) || Domain name (optional) | $10-15/year || Digital Ocean Droplet (1GB) | $6/month ||------|------|| Item | Cost |## Cost Breakdown---```supervisorctl restart music-bingopython3 generate_pool.pycd /var/www/music-bingo/backend```bash**Fix:****Cause:** Pool file not generated### Issue: "No songs loaded"```supervisorctl restart music-bingo# Add ELEVENLABS_API_KEY=sk_...nano /var/www/music-bingo/backend/.env```bash**Fix:****Cause:** API key not configured### Issue: "TTS not working"```tail -n 50 /var/log/music-bingo/error.logsupervisorctl start music-bingosupervisorctl status music-bingo```bash**Fix:****Cause:** Backend not running### Issue: "502 Bad Gateway"## Common Issues---```tail -n 100 /var/log/nginx/access.log# Nginx access logsdf -h# Disk spacehtop# CPU and memory```bash### View Resource Usage```supervisorctl restart music-bingopython3 generate_pool.pycd /var/www/music-bingo/backend```bash### Regenerate Song Pool```supervisorctl restart music-bingo# Restart backendgit pull# or pull from git# Upload new files via SCPcd /var/www/music-bingo```bash### Update Code```supervisorctl restart music-bingo```bash### Restart Backend```tail -f /var/log/music-bingo/error.logtail -f /var/log/music-bingo/access.log# View real-time logssystemctl status nginx# Check nginxsupervisorctl status music-bingo# Check if backend is running```bash### Check Server Status## Maintenance & Troubleshooting---```Best regardsLet me know if you have any questions!The game tracks all called songs automatically.5. Download and print the PDF cards4. You'll hear AI voice + 5-second song preview3. Press "NEXT SONG" button2. Click anywhere on the page (unlocks audio)1. Open the game interface in ChromeHow to test:üìÑ Bingo Cards: http://157.230.x.x/data/cards/music_bingo_cards.pdfüîó Game Interface: http://157.230.x.x (or your domain)Your Music Bingo demo is ready! üéµHi [Client Name],```Email to client:### 11.1 Send Client Information## Step 11: Share with Client---Should show üîí padlock icon.```https://musicbingo.perfectdj.co.uk```Open browser:### 10.3 Test HTTPSCertificate will auto-renew every 90 days.3. Choose: Redirect HTTP to HTTPS (option 2)2. Agree to Terms of Service1. Enter email addressFollow prompts:```certbot --nginx -d musicbingo.perfectdj.co.uk# Replace with your domain```bash**Only if you have a domain:**### 10.2 Get SSL Certificate```apt install -y certbot python3-certbot-nginx```bash### 10.1 Install Certbot## Step 10: SSL Certificate (Optional but Recommended)---- [ ] Called songs list displays- [ ] Statistics update- [ ] Song preview plays- [ ] TTS announcement plays- [ ] Press "NEXT SONG"- [ ] Click page to unlock audio- [ ] Game interface loads**Test checklist:**(Replace with your IP or domain)```http://157.230.x.x```Open browser and go to:### 9.3 Open in Browser```curl http://localhost:5000/api/pool | head -n 20# Song poolcurl http://localhost:5000/api/health# Health check```bash### 9.2 Test API Endpoints```tail -n 50 /var/log/music-bingo/error.logtail -n 50 /var/log/music-bingo/access.log# View last 50 lines of logs```bash### 9.1 Check Backend Logs## Step 9: Test Deployment---```Nginx Full                 ALLOW       AnywhereOpenSSH                    ALLOW       Anywhere--                         ------      ----To                         Action      FromStatus: active```Should show:```ufw status# Check statusufw enable# Enable firewallufw allow 'Nginx Full'# Allow HTTPufw allow OpenSSH# Allow SSH (important!)```bash## Step 8: Configure Firewall---Should show: `active (running)````systemctl status nginxsystemctl restart nginx```bash### 7.3 Restart NginxShould show: `syntax is ok` and `test is successful````nginx -t# Test configurationrm /etc/nginx/sites-enabled/default# Remove default siteln -s /etc/nginx/sites-available/music-bingo /etc/nginx/sites-enabled/# Create symbolic link```bash### 7.2 Enable Site**Save and exit:** `Ctrl+X`, then `Y`, then `Enter`**Important:** Replace `157.230.x.x` with your actual IP or domain name!```}    client_max_body_size 10M;    # Increase max body size (for future file uploads)        }        proxy_read_timeout 60s;        proxy_send_timeout 60s;        proxy_connect_timeout 60s;        # Timeouts for long-running TTS requests                proxy_set_header X-Forwarded-Proto $scheme;        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;        proxy_set_header X-Real-IP $remote_addr;        proxy_set_header Host $host;        proxy_pass http://127.0.0.1:5000;    location / {    # Proxy all requests to Flask backend        add_header X-XSS-Protection "1; mode=block" always;    add_header X-Content-Type-Options "nosniff" always;    add_header X-Frame-Options "SAMEORIGIN" always;    # Security headers        server_name 157.230.x.x;  # Replace with your IP or domain    listen 80;server {```nginxPaste this configuration:```nano /etc/nginx/sites-available/music-bingo```bash### 7.1 Create Nginx Config## Step 7: Configure Nginx (Web Server)---Should show: `music-bingo RUNNING pid xxxxx````supervisorctl status music-bingo# Check statussupervisorctl start music-bingo# Start the applicationsupervisorctl updatesupervisorctl reread# Reload supervisor configuration```bash### 6.3 Start Supervisor```mkdir -p /var/log/music-bingo```bash### 6.2 Create Log Directory**Save and exit:** `Ctrl+X`, then `Y`, then `Enter````environment=PATH="/usr/bin"stdout_logfile=/var/log/music-bingo/access.logstderr_logfile=/var/log/music-bingo/error.logkillasgroup=truestopasgroup=trueautorestart=trueautostart=trueuser=rootdirectory=/var/www/music-bingo/backendcommand=/usr/bin/python3 -m gunicorn --bind 127.0.0.1:5000 --workers 2 server:app[program:music-bingo]```iniPaste this configuration:```nano /etc/supervisor/conf.d/music-bingo.conf```bash### 6.1 Create Supervisor Config## Step 6: Configure Supervisor (Keep Server Running)---```ls ../data/cards/music_bingo_cards.pdfls ../data/pool.json```bashVerify:```python3 generate_cards.py# Generate bingo cards (takes 30 seconds)python3 generate_pool.py# Generate song pool (takes 2-3 minutes)cd /var/www/music-bingo/backend```bash### 5.3 Generate Game Assets**Save and exit:** `Ctrl+X`, then `Y`, then `Enter````PERFECT_DJ_SECONDARY_COLOR=#764ba2PERFECT_DJ_PRIMARY_COLOR=#667eea# Perfect DJ BrandingPDF_GRID_SIZE=5PDF_NUM_CARDS=50# PDF GenerationITUNES_TARGET_SONGS=250ITUNES_COUNTRY=GB# iTunes API ConfigurationELEVENLABS_VOICE_ID=21m00Tcm4TlvDq8ikWAMELEVENLABS_API_KEY=sk_paste_your_actual_key_here# ElevenLabs TTS Configuration```bashAdd your ElevenLabs API key:```nano .env# Edit with nanocp .env.example .env# Copy template```bash### 5.2 Configure Environment Variables- gunicorn (production server)- flask-cors (CORS handling)- flask (web server)- python-dotenv (environment variables)- requests (API calls)- fpdf2 (PDF generation)This installs:```pip3 install -r requirements.txtcd /var/www/music-bingo/backend```bash### 5.1 Install Python Packages## Step 5: Configure Backend---```# Should see: backend/ frontend/ data/ docs/ls /var/www/music-bingo```bashOn server:### 4.3 Verify Files```git clone https://github.com/your-username/music-bingo.git .cd /var/www/music-bingo# On server```bash**Option B: Using Git:**```scp -r backend frontend data docs .gitignore README.md root@157.230.x.x:/var/www/music-bingo/# Upload entire projectcd /Users/1di/Music_Bingo# From /Users/1di/Music_Bingo directory```bash**Option A: Using SCP (from your Mac):**### 4.2 Upload Files from Local Machine```cd /var/www/music-bingomkdir -p /var/www/music-bingo```bashOn server:### 4.1 Create Project Directory## Step 4: Upload Project Files---- **git:** (Optional) For version control- **supervisor:** Keeps Flask app running- **nginx:** Web server (reverse proxy)**What these do:**```apt install -y nginx supervisor git```bash### 3.2 Install System Packages```python3 --version  # Should show 3.10+```bashVerify:```apt install -y python3 python3-pip python3-venv```bash### 3.1 Install Python## Step 3: Install Dependencies---This takes 2-5 minutes.```apt update && apt upgrade -y```bash### 2.2 Update SystemFirst time connection will ask to verify fingerprint. Type `yes`.```ssh root@157.230.x.x# Replace with your droplet IP```bash### 2.1 SSH Connection## Step 2: Connect to Server---Example: `musicbingo.perfectdj.co.uk` ‚Üí `157.230.x.x`3. Wait 5-30 minutes for DNS propagation   - **TTL:** 300 seconds   - **Value:** Your droplet IP address   - **Host:** `@` (root) or `musicbingo`2. Add an **A Record**:1. Go to your domain registrar (Namecheap, GoDaddy, etc.)If you have a domain:### 1.2 Configure Domain (Optional)6. Note the **IP address** (e.g., `157.230.x.x`)5. Wait 2-3 minutes for droplet to be ready4. Click **Create Droplet**   - **Hostname:** `music-bingo-server`   - **Authentication:** SSH Key (recommended) or Password   - **Region:** London (closest to UK)   - **CPU:** Regular (1GB RAM / 1 CPU - $6/month)   - **Plan:** Basic   - **Image:** Ubuntu 22.04 LTS3. Configure:2. Click **Create** ‚Üí **Droplets**1. Log in to Digital Ocean: https://cloud.digitalocean.com/### 1.1 Create Droplet## Step 1: Create Digital Ocean Droplet---- [ ] SSH key configured- [ ] ElevenLabs API key- [ ] Domain name (optional, can use IP address)- [ ] Digital Ocean account## Prerequisites---**Cost:** ~$6/month (Basic Droplet)- **Port:** 5000 (backend serves everything)- **Database:** None (uses JSON files)- **Frontend:** Static HTML/JS/CSS- **Backend:** Flask server (serves API + frontend)**Architecture:**## OverviewComplete guide to deploy Music Bingo to Digital Ocean for client testing.ELEVENLABS_VOICE_ID=21m00Tcm4TlvDq8ikWAM

# iTunes API Configuration
ITUNES_COUNTRY=GB
ITUNES_TARGET_SONGS=250

# PDF Generation
PDF_NUM_CARDS=50
PDF_GRID_SIZE=5

# Perfect DJ Branding
PERFECT_DJ_PRIMARY_COLOR=#667eea
PERFECT_DJ_SECONDARY_COLOR=#764ba2
